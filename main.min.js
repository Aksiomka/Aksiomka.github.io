const{assign}=Object;function storageChecker(itemName,handleTrue,handleFalse,defaultPreference){return{itemName:itemName,handleTrue:handleTrue,handleFalse:handleFalse,defaultPreference:defaultPreference,turnTrue:function(){this.handleTrue();this.store(!0)},turnFalse:function(){this.handleFalse();this.store(!1)},isTrue:function(){var value=window.localStorage.getItem(this.itemName);if(value===null)return this.defaultPreference();return value==='1'},store:function(value){var preffered=this.defaultPreference(),needToSave=(value===!0&&!preffered)||(value===!1&&preffered);if(needToSave){var newValue=value===!0?'1':'0';window.localStorage.setItem(this.itemName,newValue)}else{var oldValue=window.localStorage.getItem(this.itemName);oldValue!==null&&this.remove()}},remove:function(){window.localStorage.removeItem(this.itemName)},restore:function(){this.isTrue()?this.handleTrue():this.handleFalse()}}}function preferesEn(){return!navigator.language.startsWith('ru')}function redirectLang(eng){return ()=>{var path=window.location.pathname;window.location.replace(eng?path.replace('/ru/','/en/'):path.replace('/en/','/ru/'))}}function changeLanguage(){var path=window.location.pathname,eng=path.indexOf('/en/')!==-1,lang=storageChecker('lang',redirectLang(!0),redirectLang(!1),preferesEn);lang.store(!eng);lang.restore()}function renderPostTime(locale){let list=document.getElementsByClassName('post-time');let optDate={year:'numeric',month:'numeric',day:'numeric'};let optWithTime=assign({hour:'2-digit', minute:'2-digit'},optDate);for(let el of list){date=new Date(el.dateTime);el.innerHTML=el.dateTime.length===10||el.dateTime.indexOf('00:00')!==-1?date.toLocaleDateString(locale,optDate):date.toLocaleString(locale,optWithTime)}}